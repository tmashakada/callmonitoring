<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
	        xmlns:f="http://xmlns.jcp.org/jsf/core"
	        xmlns="http://www.w3.org/1999/xhtml"
	       xmlns:p="http://primefaces.org/ui" 
                
              template="./templates/mainTemplate.xhtml">


    <ui:define name="content">
        
        <div style="margin-left:20%">
                 <h:form>
                         <p:panelGrid columns="2" id="grid"
                                 columnClasses="ui-grid-col-5,ui-grid-col-4"
                                   layout="grid"
                                    styleClass="ui-panelgrid-blank ui-fluid"
                                   style="border:0px none; background-color:transparent;">
                                  <p:outputLabel for="@next" value="Name"/>
                                  <p:inputText placeholder="Enter Name"  value="#{callsBean.name}" />

                                  <p:outputLabel for="@next" value="Supervisor"/>
                                  <p:inputText  placeholder="Enter Supervisor" value="#{callsBean.supervisor}"/>

                                  <p:outputLabel for="@next" value="Employee Number"/>
            
                                  <p:inputText placeholder="Employee Number" value="#{callsBean.callreference}"/>
                             
                         </p:panelGrid>
                     <ui:repeat var="questiontype" value="#{callsBean.questionTypeList}">
                         <h4>#{questiontype.questiongrpType}</h4>
                        <p:outputLabel  value=""/>
                        <ui:repeat value="#{callsBean.questions}" var="question">
                            
                          <p:panelGrid columns="2" id="grid2"
                                 columnClasses="ui-grid-col-5,ui-grid-col-4"
                                   layout="grid"
                                    styleClass="ui-panelgrid-blank ui-fluid"
                                   style="border:0px none; background-color:transparent;">
                              
                           
                                
                                 
                              <p:outputLabel  for="@next" value="#{question.description}" rendered="#{question.questionType == questiontype.questiongrpType}"/>
                              <p:selectOneMenu  value="#{callsBean.selectedOptions[question]}"  rendered="#{question.questionType == questiontype.questiongrpType}">
                                 
                                    <f:selectItem itemLabel="Select One" itemValue=""/>
                                    <f:selectItem itemLabel="Yes" itemValue="Yes"/>
                                    <f:selectItem itemLabel="No" itemValue="No"/>
                                    <f:selectItem itemLabel="NA" itemValue="NA"/>
                               
                                </p:selectOneMenu>
                                 
                              
                             
                         </p:panelGrid>
                     </ui:repeat>
                      </ui:repeat>    
                     <p:commandButton value="Submit" id="btnForm" process="@form"  action="#{callsBean.save}"  style="width: 31%;margin-left: 43%"/>
                    
                 
                 </h:form>
            </div>
    </ui:define>

    

</ui:composition>
